<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Opinion Trading</title>

  <style>
    /* -------- BASIC DARK THEME -------- */
    body{
      font-family: Arial, sans-serif;
      background:#0f172a;
      color:white;
      text-align:center;
      padding:25px;
    }

    h2,h3,p{ margin:12px 0; }

    input{
      padding:12px;
      border-radius:12px;
      border:none;
      margin:10px;
      width:200px;
      text-align:center;
      font-size:16px;
    }

    button{
      padding:12px 22px;
      margin:8px;
      border-radius:12px;
      border:none;
      font-size:16px;
      cursor:pointer;
      transition:0.2s;
    }

    button:hover{ transform:scale(1.05); }

    .yes{ background:#22c55e; color:white; }
    .no{ background:#ef4444; color:white; }
    .deposit{ background:#3b82f6; color:white; }

    .market{
      margin:25px auto;
      padding:20px;
      border:1px solid #334155;
      border-radius:15px;
      max-width:340px;
    }

    hr{
      margin:25px 0;
      border-color:#334155;
    }
  </style>
</head>

<body>

  <!-- ---------- TELEGRAM USERNAME ---------- -->
  <h2 id="user">Loading Telegram user...</h2>

  <!-- ---------- WALLET BALANCE ---------- -->
  <h3 id="balance">Balance: loading...</h3>

  <hr>

  <!-- ---------- MARKETS FROM SUPABASE ---------- -->
  <div id="markets">
    Loading markets...
  </div>

  <hr>

  <!-- ---------- DEPOSIT BUTTON ---------- -->
  <button class="deposit" onclick="deposit()">Deposit â‚¬10</button>

  <!-- ================================================= -->
  <!-- IMPORTANT: SCRIPTS MUST BE AT BOTTOM OF BODY      -->
  <!-- Telegram SDK must load BEFORE your script.js      -->
  <!-- ================================================= -->

  <!-- Telegram Mini App SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- Your app logic (cache-busted so Telegram loads latest version) -->
  <script src="/script.js?v=5"></script>

</body>
</html>
